<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="style.css"> <!-- General styles -->
  <link rel="stylesheet" href="home.css"> <!-- Home pageâ€“specific styles -->
  <link rel="icon" href="imgs/micefav.svg" type="image/svg+xml">
  <!-- Include the pie chart code -->
  <script type="module" src="piechart.js"></script>
  <script src="https://d3js.org/d3.v7.min.js"></script>
  <title>Home</title>
</head>

<body>
  <!-- Navigation buttons -->
  <button id="to-advanced" class="to-advanced">Go to Advanced Chart</button>
  <button id="to-index" class="to-index">Back</button>

  <!-- Overall Average Pie Chart Container (static averages across the whole experiment) -->
  <div id="overall-container">
    <h2>Average Temperature and Activity Distribution</h2>
    <p>
      The pie charts below display the distribution of temperature and activity for male and female mice averaged across the 14 day experiment.<br>
    </p>
    <div id="overall-piechart">
      <div id="overall-temp-pie-chart"></div>
      <p>
        On average, the temperature of female mice tends to be higher in comparison to male mice.
        Activty between males and females appear to be similar.<br>
        <b>Scroll down to examine how these patterns change from day to day!</b>
      </p>
      <div id="overall-activity-pie-chart"></div>
    </div>
  </div>

  <h2>Daily Temperature and Activity Distribution</h2>
  <p>
    The pie charts below show the average daily distributions of temperature and activity for male and female mice across the 14 days.<br>
    <b>Use the scroll box on the left to see how these distributions change throughout the two week period. </b>
    <i>What do you notice?</i>
  </p>

  <!-- Scrolly Box and Dynamic Pie Chart Container -->
  <div id="scrollytelling">
    <div id="scroll-container">
      <div id="spacer"></div>
      <div id="items-container"></div>
    </div>
    <!-- Dynamic Pie Chart Container (updates when scrolling) -->
    <div id="piechart">
      <div id="temp-pie-chart"></div>
      <!-- Narrative text for piecharts -->
      <div id="narrative_pies">
        <p>
          We can see that overall, the temperature of female mice tends to be higher in comparison to male mice. Interestingly, the female temperatures rise during days <b>6, 10, and 14</b>.
          There is also a slight discrepancy between the female and male activity distributions at higher ranges.<br>
          <i>But why is this so?</i> <b>Click on a pie slice to learn more.</b>
        </p>
        <script>
          document.getElementById('to-advanced').addEventListener('click', () => {
            window.location.href = 'advanced.html';
          });
          document.getElementById('to-index').addEventListener('click', () => {
            window.location.href = 'index.html';
          });
        </script>
      </div>
      <div id="activity-pie-chart"></div>
    </div>
  </div>

  <script>
    document.addEventListener("DOMContentLoaded", function () {
      const transitionElement = document.createElement("div");
      transitionElement.classList.add("page-transition");
      const image = document.createElement("img");
      image.src = "imgs/mice.svg";
      image.alt = "Loading...";
      transitionElement.appendChild(image);
      document.body.appendChild(transitionElement);
      setTimeout(() => {
        transitionElement.classList.add("hidden");
      }, 200);
      document.querySelectorAll("a").forEach((link) => {
        link.addEventListener("click", (event) => {
          event.preventDefault();
          const href = link.getAttribute("href");
          transitionElement.classList.remove("hidden");
          setTimeout(() => {
            window.location.href = href;
          }, 200);
        });
      });
    });
  </script>
</body>
</html>
