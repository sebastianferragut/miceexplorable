<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="style.css"> <!-- General styles -->
  <link rel="stylesheet" href="home.css"> <!-- Home pageâ€“specific styles -->
  <link rel="icon" href="imgs/micefav.svg" type="image/svg+xml">
  <!-- Include the pie chart code -->
  <script type="module" src="piechart.js"></script>
  <script src="https://d3js.org/d3.v7.min.js"></script>
  <title>Of Mice and Medicine</title>
</head>

<body>
   <!-- Navigation button to go to the advanced chart page -->
  <button id="to-advanced" class="to-advanced">Go to Advanced Chart</button>
  <button id="to-index" class="to-index">Go Back to Index Page</button>
  <h1>Temperature and Activity Distributions</h1>

  <p>
    The pie charts below show the average hourly distributions of temperature and activity for male and female mice across the 14 days.<br></br><b>Use the scroll box on the left to see how these distributions change throughout the day. </b><i>What do you notice?</i>
  </p>

  <!-- Scrolly Box Container -->
  <div id="scrollytelling">
    <div id="scroll-container">
      <div id="spacer"></div>
      <div id="items-container"></div>
    </div>
    <!-- Temp Pie Chart Container -->
    <div id="piechart">
      <div id="temp-pie-chart"></div>
      <!-- Narrative text for piecharts -->
      <div id="narrative_pies">
        <p>
          We can see that overall, the temperature of female mice tends to be higher in comparison to male mice. There is also a slight discrepancy between the female and male activity distributions at higher ranges.<br></br><i>But why is this so? </i><b>Click on a pie slice to learn more.</b>
        </p>
        <script>
          document.getElementById('to-advanced').addEventListener('click', () => {
            window.location.href = 'advanced.html';
          });
          document.getElementById('to-index').addEventListener('click', () => {
            window.location.href = 'index.html';
          });
        </script>
      <!-- Activity Pie Chart Container -->
      <div id="activity-pie-chart"></div>
    </div>
  </div>



<script>
  document.addEventListener("DOMContentLoaded", function () {
    const transitionElement = document.createElement("div");
    transitionElement.classList.add("page-transition");

    // Add image inside the transition div
    const image = document.createElement("img");
    image.src = "imgs/mice.svg"; // Replace with your image path
    image.alt = "Loading...";
    
    transitionElement.appendChild(image);
    document.body.appendChild(transitionElement);

    setTimeout(() => {
      transitionElement.classList.add("hidden");
    }, 200); // Fade out faster

    document.querySelectorAll("a").forEach((link) => {
      link.addEventListener("click", (event) => {
        event.preventDefault();
        const href = link.getAttribute("href");

        transitionElement.classList.remove("hidden");

        setTimeout(() => {
          window.location.href = href;
        }, 200);
      });
    });
  });
</script>
</body>

</html>