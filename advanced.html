<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="style.css">           <!-- General styles -->
  <link rel="stylesheet" href="advanced.css">        <!-- Advanced page–specific styles -->
  <link rel="icon" href="imgs/micefav.svg" type="image/svg+xml">
  <!-- Advanced chart code -->
  <script type="module" src="advanced.js"></script>
  <script src="https://d3js.org/d3.v7.min.js"></script>
  <title>Of Mice and Medicine</title>
</head>
<body>
  <!-- Wrap all content in a container that will be scaled down -->
  <div id="main-container">

    <!--Back button-->
    <button id="back-button" class="back-button">Back</button>
    
    <h1>Average Daily Cycle of Body Temperature and Activity</h1>
    <p style="max-width: 900px; text-align: center; margin: 0 auto;">
      Estrus is a period of heightened sexual receptivity and fertility in female mammals, induced by reproductive hormones. In mice, this period lasts for one day, and recurs every 4 days.
      <br></br>
      On this page, we can observe the average daily activity level and core body temperature cycles of three groups of mouse data: males, females in estrus, and females not in estrus. The data has been smoothed over 30‐minute intervals and aggregated over 14 days to highlight trends.
      <br></br>
      <b>Explore the trends in these health measurements of individual mice by clicking on lines and discover patterns by clicking and dragging to zoom in on the graph.</b>
      <br></br><b>Click on the metric you want to observe using the temperature or activity button, then click on a line for the individual mouse of your choice.</b>
      <br></br><i>Does estrus affect the body temperature and activity levels of mice?</i>
    </p>

      <!-- Data type selection buttons -->
      <div id="button-container">
        <button id="temp-button" class="t-button">Temperature</button>
        <button id="activity-button" class="a-button">Activity</button>
      </div>
    <!-- Container for advanced chart and controls -->
    <div id="advanced-container">
      <!-- The chart container now holds the zoom out button -->
      <div id="advanced-chart">
        <button id="resetBrush" style="display: none;">Zoom Out</button>
      </div>
      <div id="advanced-controls">
        <div id="advanced-legend">
          <label class="legend-item">
            <input type="checkbox" id="maleCheckbox" checked>
            <span class="legend-color"></span>
            Males
          </label>
          <label class="legend-item">
            <input type="checkbox" id="estrusCheckbox" checked>
            <span class="legend-color"></span>
            Females (Estrus)
          </label>
          <label class="legend-item">
            <input type="checkbox" id="nonEstrusCheckbox" checked>
            <span class="legend-color"></span>
            Females (Non‑Estrus)
          </label>
        </div>
      </div>
    </div>
  
    <div id="narrative-advanced"></div>
    
    <p style="text-align: left; padding: 0px; font-size: 14px; max-width: 200px;">
      <b>Toggle items on the legend above to filter</b>
    </p>

    <!-- Annotation text -->
    <p id="summary-annotation" style="max-width: 900px; text-align: center; margin: 0 auto;">
      We can see that on average, the female mice have higher temperatures than male mice, especially during estrus. Temperatures were higher during the light on period than with the light off, reflecting the impact of circadian rhythm on temperature.
      <br></br>
      We can also see that male mice and female mice during estrus had similar activity metrics during the light on period. This shifts when the light is off, with male mice being slightly more active than both female groups. Overall, these differences could be indicative of mating behaviors.
      <br></br>
      <b>Now, let's follow a cohort of mice (one male and one female) throughout the 14 day study to observe individual differences. </b>
    </p>
  </div>
</body>
</html>
